@page "/"
@using System.Reactive.Concurrency
@using Occurify.Reactive.Extensions
@using Occurify.TimeZones

<MudText Typo="Typo.h3" Align="Align.Center">@_currentTime.ToString("HH:mm:ss")</MudText>

@code {
    private DateTime _currentTime = DateTime.Now;

    protected override void OnInitialized()
    {
        var scheduler = new SynchronizationContextScheduler(SynchronizationContext.Current!);
        TimeZoneInstants.EverySecond().Subscribe(() =>
        {
            _currentTime = DateTime.Now;
            StateHasChanged();
        }, scheduler);
    }
}
